import{j as e,r as m}from"./index-pncWfIXX.js";import{u as E}from"./useUsers-Chik5yPR.js";import{C as S,U as z}from"./UserAvatar-C-9ADySJ.js";import{C as V,U as k}from"./User-B-DvLSGb.js";const A=(s,t)=>{if(!t.trim())return s;const a=t.toLowerCase().trim();return s.filter(l=>l.name.toLowerCase().includes(a)||l.email.toLowerCase().includes(a))},U=(s,t)=>[...s].sort((a,l)=>{const n=i=>{switch(t.key){case"name":return i.name;case"email":return i.email;case"address.city":return i.address.city;case"company.name":return i.company.name;default:return""}},d=n(a),o=n(l),h=d.localeCompare(o,void 0,{numeric:!0,sensitivity:"base"});return t.direction==="asc"?h:-h}),C=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:e.jsx("path",{d:"m6 9 6 6 6-6"})}),P=({className:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[e.jsx("path",{d:"m21 21-4.34-4.34"}),e.jsx("circle",{cx:"11",cy:"11",r:"8"})]}),f=({column:s,currentSort:t,onSort:a,children:l,className:n=""})=>{const d=t.key===s;return e.jsxs("button",{type:"button",id:`sort-${s}-btn`,"aria-label":`Sort by ${s}`,onClick:()=>a(s),className:`flex items-center space-x-1 text-xs font-medium text-slate-400 hover:text-slate-200 transition-colors uppercase tracking-wide text-left ${n}`,children:[e.jsx("span",{children:l}),d?t.direction==="asc"?e.jsx(S,{className:"size-3 text-cyan-300"}):e.jsx(C,{className:"size-3 text-cyan-300"}):e.jsx(C,{className:"size-3 text-cyan-300"})]})},$=({user:s,onViewDetails:t})=>{const a=()=>{t(s)},l=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),t(s))};return e.jsxs("article",{role:"button",tabIndex:0,onClick:a,onKeyDown:l,"aria-label":`View details for ${s.name}`,className:"py-6 px-5 md:py-4 md:px-6 group grid grid-cols-12 items-center gap-4 hover:bg-white/5 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:ring-inset cursor-pointer",children:[e.jsxs("div",{className:"col-span-5 md:col-span-4 flex items-center space-x-3",children:[e.jsx(z,{name:s.name}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-white truncate group-hover:text-cyan-300 transition-colors",children:s.name}),e.jsxs("p",{className:"text-xs text-slate-400 truncate",children:["@",s.username]})]})]}),e.jsx("div",{className:"col-span-6 md:col-span-3",children:e.jsx("p",{className:"text-sm text-slate-300 truncate group-hover:text-slate-200 transition-colors",children:s.email})}),e.jsx("div",{className:"col-span-2 hidden md:block",children:e.jsx("p",{className:"text-sm text-slate-300 truncate group-hover:text-slate-200 transition-colors",children:s.address.city})}),e.jsx("div",{className:"col-span-2 hidden md:block",children:e.jsx("p",{className:"text-sm text-slate-300 truncate group-hover:text-slate-200 transition-colors",children:s.company.name})}),e.jsx("div",{className:"col-span-1 flex justify-end text-slate-500 group-hover:text-cyan-400 transition-colors",children:e.jsx(S,{className:"size-5 rotate-90 group-hover:scale-110 transition-transform duration-200"})})]})},B=({onClose:s,children:t})=>e.jsx("section",{onClick:s,className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center p-4 z-50",children:e.jsx("div",{onClick:a=>a.stopPropagation(),className:"bg-slate-900/95 backdrop-blur-xl border border-white/10 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl shadow-black/50",children:e.jsxs("article",{className:"p-6 space-y-6",children:[t,e.jsx("div",{className:"pt-6 border-t border-white/10",children:e.jsx("button",{type:"button","aria-label":"Close pop-up modal",onClick:s,className:"w-full px-4 py-2 bg-white/10 text-slate-200 rounded-lg hover:bg-white/20 transition-colors font-medium focus:ring-2 focus:ring-indigo-500/30 focus:ring-offset-2 focus:ring-offset-slate-900",children:"Close"})})]})})}),I=({selectedUser:s,setSelectedUser:t})=>{const a=()=>t(null);return e.jsxs(B,{onClose:a,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(z,{name:s.name}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:s.name}),e.jsxs("p",{className:"text-slate-400",children:["@",s.username]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-slate-400",children:"Email:"})," ",e.jsx("span",{className:"text-slate-200",children:s.email})]}),s.phone&&e.jsxs("p",{children:[e.jsx("span",{className:"text-slate-400",children:"Phone:"})," ",e.jsx("span",{className:"text-slate-200",children:s.phone})]}),s.website&&e.jsxs("p",{children:[e.jsx("span",{className:"text-slate-400",children:"Website:"})," ",e.jsx("span",{className:"text-cyan-400 hover:text-cyan-300 cursor-pointer",children:s.website})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Address"}),e.jsxs("p",{className:"text-sm text-slate-300",children:[s.address.suite," ",s.address.street,e.jsx("br",{}),s.address.city,", ",s.address.zipcode]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Company"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-slate-200",children:s.company.name}),s.company.catchPhrase&&e.jsx("p",{className:"text-slate-400",children:s.company.catchPhrase})]})]})]})]})]})},W=({searchTerm:s,onSearch:t,onClear:a})=>e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx("div",{className:"absolute z-10 inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(P,{className:"size-5 text-indigo-400"})}),e.jsx("input",{id:"users-list-search-bar",type:"text",value:s,placeholder:"Search users by name or email...","aria-label":"Search users by name or email",onChange:l=>t(l.target.value),className:"block w-full px-10 py-2.5 bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg outline-0 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 text-sm text-white placeholder:text-slate-400 transition-all duration-200"}),s&&e.jsx("button",{id:"clear-search-btn",type:"button","aria-label":"Clear search",onClick:a,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-200 transition-colors",children:e.jsx(V,{className:"size-4"})})]}),T=()=>{const{users:s,loading:t,error:a,clearError:l}=E(),[n,d]=m.useState(null),[o,h]=m.useState(""),[i,L]=m.useState({key:"name",direction:"asc"}),[x,p]=m.useState(1),j=10,N=m.useMemo(()=>A(s,o),[s,o]),c=m.useMemo(()=>U(N,i),[N,i]),u=Math.ceil(c.length/j),b=(x-1)*j,v=c.slice(b,b+j),M=r=>{h(r),p(1)},y=()=>{h(""),p(1)},g=r=>{L(w=>({key:r,direction:w.key===r&&w.direction==="asc"?"desc":"asc"}))},D=r=>{d(r)};return t?e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"mb-6 bg-white/5 backdrop-blur-xl border border-white/10 rounded-lg shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 justify-center py-12",children:[e.jsx("div",{className:"animate-spin size-8 border-b-2 border-indigo-500 rounded-full"}),e.jsx("span",{className:"text-slate-300",children:"Loading users..."})]})})}):a?e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"mb-6 bg-white/5 backdrop-blur-xl border border-white/10 rounded-lg shadow-xl p-6",children:e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-red-300",children:[e.jsx("strong",{children:"Error:"})," ",a]}),e.jsx("button",{type:"button",onClick:l,"aria-label":"Dismiss error message",className:"text-red-400 hover:text-red-300 underline transition-colors",children:"Dismiss"})]})})})}):e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6 bg-white/5 backdrop-blur-xl border border-white/10 rounded-lg shadow-xl",children:[e.jsx("section",{className:"px-6 py-4 border-b border-white/10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-600 to-cyan-500 rounded-lg shadow-lg shadow-indigo-500/25",children:e.jsx(k,{className:"size-6 text-white"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-400 to-cyan-400 bg-clip-text text-transparent",children:"Users List"}),e.jsx("p",{className:"text-sm text-slate-400",children:o?e.jsxs(e.Fragment,{children:["Page ",x," of ",u," • ",c.length," ","result",c.length!==1?"s":""]}):e.jsxs(e.Fragment,{children:["Page ",x," of ",u," • ",c.length," ","total users"]})})]})]}),e.jsx(W,{searchTerm:o,onSearch:M,onClear:y})]})}),e.jsxs("section",{children:[e.jsx("article",{className:"px-6 py-4 bg-slate-800/50 backdrop-blur-sm border-b border-white/10",children:e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[e.jsx("div",{className:"col-span-5 md:col-span-4",children:e.jsx(f,{column:"name",currentSort:i,onSort:g,children:"Name"})}),e.jsx("div",{className:"col-span-6 md:col-span-3",children:e.jsx(f,{column:"email",currentSort:i,onSort:g,children:"Email"})}),e.jsx("div",{className:"col-span-2 hidden md:block",children:e.jsx(f,{column:"address.city",currentSort:i,onSort:g,children:"City"})}),e.jsx("div",{className:"col-span-2 hidden lg:block",children:e.jsx(f,{column:"company.name",currentSort:i,onSort:g,children:"Company"})}),e.jsx("div",{className:"col-span-1 flex justify-end",children:e.jsx("span",{className:"sr-only text-xs font-medium text-slate-400 uppercase tracking-wide",children:"Action"})})]})}),e.jsx("article",{className:"min-h-[400px]",children:v.length>0?e.jsx("div",{className:"divide-y divide-white/10",children:v.map(r=>e.jsx($,{user:r,onViewDetails:D},r.id))}):e.jsx("div",{className:"py-16 text-slate-300 text-center",children:o?e.jsxs("div",{className:"flex flex-col justify-center items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-slate-800/50 rounded-full",children:e.jsx(P,{className:"size-12 text-slate-400"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xl font-semibold text-slate-200",children:"No users found"}),e.jsxs("p",{className:"text-sm text-slate-400",children:["Try adjusting your search terms or"," ",e.jsx("button",{onClick:y,className:"text-cyan-400 hover:text-cyan-300 hover:underline transition-colors font-medium",children:"clear the search"})]})]})]}):e.jsxs("div",{className:"flex flex-col justify-center items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-slate-800/50 rounded-full",children:e.jsx(k,{className:"size-12 text-slate-400"})}),e.jsx("p",{className:"text-xl font-semibold text-slate-200",children:"No users available"})]})})})]}),c.length>0&&e.jsx("section",{className:"px-6 py-4 bg-slate-800/50 backdrop-blur-sm border-t border-white/10 rounded-b-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-sm text-slate-300 order-2 sm:order-1",children:["Showing ",b+1,"-",Math.min(b+j,c.length)," of"," ",c.length," users"]}),e.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[e.jsx("button",{type:"button",onClick:()=>p(r=>Math.max(r-1,1)),disabled:x===1,className:"px-4 py-2 text-sm bg-white/10 hover:bg-white/20 text-slate-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all font-medium",children:"Previous"}),e.jsxs("span",{className:"px-3 py-2 text-sm text-slate-300 font-medium",children:[x," of ",u]}),e.jsx("button",{type:"button",onClick:()=>p(r=>Math.min(r+1,u)),disabled:x===u,className:"px-4 py-2 text-sm bg-gradient-to-r from-indigo-600 to-cyan-500 hover:from-indigo-700 hover:to-cyan-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all font-medium shadow-lg shadow-indigo-500/25",children:"Next"})]})]})})]}),n&&e.jsx(I,{selectedUser:n,setSelectedUser:d})]})};export{T as default};
