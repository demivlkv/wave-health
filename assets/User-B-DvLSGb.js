import{r as c,j as t}from"./index-pncWfIXX.js";const u={users:[],loading:!1,error:null,lastFetched:null},p=(e,r)=>{switch(r.type){case"FETCH_START":return{...e,loading:!0,error:null};case"FETCH_SUCCESS":return{...e,loading:!1,users:r.payload,error:null,lastFetched:Date.now()};case"FETCH_ERROR":return{...e,loading:!1,error:r.payload};case"ADD_USER":return{...e,users:[...e.users,r.payload]};case"CLEAR_ERROR":return{...e,error:null};default:return e}},h=c.createContext(void 0),R=({children:e})=>{const[r,o]=c.useReducer(p,u),d=async()=>{if(!(r.lastFetched&&Date.now()-r.lastFetched<6e5)){o({type:"FETCH_START"});try{const s=await fetch("https://jsonplaceholder.typicode.com/users");if(!s.ok)throw new Error(`Failed to fetch users: ${s.status}`);const a=await s.json();o({type:"FETCH_SUCCESS",payload:a})}catch(n){const s=n instanceof Error?n.message:"Failed to fetch users";o({type:"FETCH_ERROR",payload:s})}}};c.useEffect(()=>{d()},[]);const i={...r,addUser:l=>{const n=Math.max(...r.users.map(a=>a.id),0)+1,s={...l,id:n};o({type:"ADD_USER",payload:s})},clearError:()=>{o({type:"CLEAR_ERROR"})}};return t.jsx(h.Provider,{value:i,children:e})},C=({className:e})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[t.jsx("path",{d:"M18 6 6 18"}),t.jsx("path",{d:"m6 6 12 12"})]}),w=({className:e})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[t.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]});export{C,w as U,R as a,h as b};
